---
id: design-patterns-typescript
title: è®¾è®¡æ¨¡å¼
---

è®¾è®¡æ¨¡å¼æ˜¯é’ˆå¯¹é‡å¤å‡ºç°çš„é—®é¢˜çš„å¾—å‡ºçš„è§£å†³æ–¹æ¡ˆï¼›å³æ˜¯**å¦‚ä½•è§£å†³æŸäº›é—®é¢˜çš„æŒ‡å¯¼æ–¹é’ˆ**ã€‚å®ƒä»¬ä¸æ˜¯å¯ä»¥ç›´æ¥è´´å…¥åº”ç”¨ç¨‹åºç„¶åç­‰å¾…å¥‡è¿¹å‘ç”Ÿçš„ç±»ã€åŒ…æˆ–åº“ã€‚ç›¸åï¼Œè¿™äº›ä¸œè¥¿æ˜¯æŒ‡å¯¼ä½ å¦‚ä½•åœ¨ç‰¹å®šæƒ…å†µä¸‹è§£å†³ç‰¹å®šé—®é¢˜çš„æŒ‡å—ã€‚

ç»´åŸºç™¾ç§‘è¿™æ ·æè¿°ä»–ä»¬ï¼š

> åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œè½¯ä»¶è®¾è®¡æ¨¡å¼æ˜¯å¯¹è½¯ä»¶è®¾è®¡ä¸­ç»™å®šä¸Šä¸‹æ–‡ä¸­å¸¸è§é—®é¢˜çš„é€šç”¨å¯å¤ç”¨è§£å†³æ–¹æ¡ˆã€‚
> å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„è®¾è®¡ï¼Œå¯ä»¥ç›´æ¥è½¬æ¢ä¸ºæºä»£ç æˆ–æœºå™¨ä»£ç ã€‚
> å®ƒæ˜¯ç”¨äºè§£å†³åŒä¸€ç±»é—®é¢˜çš„æè¿°æˆ–æ¨¡æ¿ï¼Œå¯ä»¥åœ¨è®¸å¤šä¸åŒçš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚

## æ³¨æ„

å¼€å‘äººå‘˜(å¤§å¤šæ•°æ˜¯åˆå­¦è€…)ä¼šçŠ¯è¿‡åº¦æ€è€ƒå’Œè¿‡äºå¼ºè°ƒè®¾è®¡æ¨¡å¼çš„é”™è¯¯ï¼Œè¿™å°†äº§ç”Ÿå¤§é‡ææ€–çš„ã€éš¾ä»¥ç»´æŠ¤çš„æ‚ä¹±æ— ç« çš„ä»£ç ã€‚ç»éªŒæ•™è®­å‘Šè¯‰æˆ‘ä»¬ï¼Œåº”è¯¥è®©ä½ çš„ä»£ç åº“å°½å¯èƒ½ç®€å•ï¼Œä¸€æ—¦è¿›å…¥å¼€å‘é˜¶æ®µï¼Œæ‚¨å°±å¯ä»¥å‘ç°ä»£ç åº“ä¸­é‡å¤å‡ºç°çš„æ¨¡å¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ ä¾¿å¯ä»¥åœ¨æ¥ä¸‹æ¥çš„å¼€å‘ä¸­å®ç°ç›¸å…³çš„è®¾è®¡æ¨¡å¼ã€‚

- è®¾è®¡æ¨¡å¼å¹¶ä¸æ˜¯è§£å†³æ‰€æœ‰é—®é¢˜çš„çµä¸¹å¦™è¯ã€‚
- ä¸è¦è¿‡äºå¼ºè°ƒä½¿ç”¨ä»–ä»¬ï¼Œå¦åˆ™å°†ä¼šå¸¦æ¥ä¸€ç³»åˆ—é—®é¢˜ã€‚
- è¯·è®°ä½ï¼Œè®¾è®¡æ¨¡å¼æ˜¯å¯¹é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯å¯»æ‰¾é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥ä¸è¦è¿‡äºè§£è¯»ã€‚
- å¦‚æœç”¨åœ¨æ­£ç¡®çš„åœ°æ–¹ï¼Œæ­£ç¡®çš„æ–¹å¼ï¼Œä»–ä»¬å¯ä»¥è¯æ˜æ˜¯æ•‘ä¸–ä¸»ï¼Œå¦åˆ™å®ƒä»¬ä¼šå¯¼è‡´ä»£ç æ··ä¹±ä¸å ªã€‚

:::note æ³¨æ„
ä¸‹é¢çš„ä»£ç ç¤ºä¾‹æ˜¯ç”¨ Typescript ç¼–å†™çš„ï¼Œç›¸ä¿¡å®ƒä¸ä¼šå¦¨ç¢åˆ°ä½ çš„ç†è§£ï¼Œå› ä¸ºä¸ç®¡æ€æ ·æ¦‚å¿µéƒ½æ˜¯ç›¸åŒçš„ã€‚
:::

## è®¾è®¡æ¨¡å¼çš„ç±»å‹

æœ¬æŒ‡å—æ˜¯å…³äºå››äººå¸®(GoF)è®¾è®¡æ¨¡å¼çš„ï¼Œå®ƒæŒ‡çš„æ˜¯**ä»‹ç»è¿™äº›è®¾è®¡æ¨¡å¼çš„ä¹¦çš„å››ä½ä½œè€…**ã€‚è®¾è®¡æ¨¡å¼æœ‰ä¸‰ç§ç±»å‹:

- [åˆ›å»ºå‹ï¼ˆCreationalï¼‰](#åˆ›å»ºå‹)
- æ¶æ„å‹ï¼ˆStructuralï¼‰
- è¡Œä¸ºå‹ï¼ˆBehavioralï¼‰

## åˆ›å»ºå‹

ç®€å•æ¥è¯´ï¼š

> åˆ›å»ºæ¨¡å¼ä¸»è¦å…³æ³¨å¦‚ä½•å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ç»„ç›¸å…³å¯¹è±¡ã€‚

ç»´åŸºç™¾ç§‘ä¸­ï¼š

> åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œåˆ›å»ºè®¾è®¡æ¨¡å¼æ˜¯å¤„ç†å¯¹è±¡åˆ›å»ºæœºåˆ¶çš„è®¾è®¡æ¨¡å¼ï¼Œè¯•å›¾ä»¥é€‚åˆæƒ…å†µçš„æ–¹å¼åˆ›å»ºå¯¹è±¡ã€‚å¯¹è±¡åˆ›å»ºçš„åŸºæœ¬å½¢å¼å¯èƒ½ä¼šå¯¼è‡´è®¾è®¡é—®é¢˜æˆ–å¢åŠ è®¾è®¡çš„å¤æ‚æ€§ã€‚åˆ›å»ºè®¾è®¡æ¨¡å¼é€šè¿‡æ§åˆ¶å¯¹è±¡åˆ›å»ºæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

æœ‰ 6 ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼š

### ğŸ  ç®€å•å·¥å‚æ¨¡å¼

ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š

> æ€è€ƒä¸€ä¸‹ï¼Œä½ æ­£åœ¨å»ºé€ ä¸€æ‰€æˆ¿å­ï¼Œä½ éœ€è¦ä¸€æ‰‡é—¨ã€‚è¿™æ—¶ï¼Œä½ å¯ä»¥ç©¿ä¸Šä½ çš„æœ¨åŒ å·¥ä½œæœï¼Œå¸¦ä¸€äº›æœ¨å¤´ã€èƒ¶æ°´ã€é’‰å­å’Œæ„å»ºä¸€æ‰‡é—¨æ‰€éœ€çš„æ‰€æœ‰å·¥å…·ï¼Œå¼€å§‹æ„å»ºä½ çš„æˆ¿å­ã€‚æˆ–è€…ä½ å¯ä»¥å°†è¿™äº›äº¤ä»˜ç»™å·¥å‚ï¼Œè®©å®ƒæ¥å»ºé€ ä¸€æ‰‡é—¨ï¼Œæœ€åäº¤ä»˜ç»™ä½ ï¼Œè¿™æ ·ä½ ä¸éœ€è¦å­¦ä¹ ä»»ä½•å…³äºé—¨åˆ¶é€ æˆ–å¤„ç†ä¸ºäº†åˆ¶é€ ä¸€æ‰‡é—¨æ‰€å¸¦æ¥çš„ä¸å¿…è¦éº»çƒ¦ã€‚

ç®€å•æ¥è¯´ï¼š

> ç®€å•å·¥å‚æ¨¡å¼ï¼Œåªæ˜¯ä¸ºäº†åœ¨å®¢æˆ·ç«¯ç”Ÿæˆä¸€ä¸ªå®ä¾‹ï¼Œè€Œä¸å‘å®¢æˆ·ç«¯å…¬å¼€ä»»ä½•å®ä¾‹åŒ–é€»è¾‘

ç»´åŸºç™¾ç§‘ä¸­ï¼š

> åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹(OOP)ä¸­ï¼Œå·¥å‚æ˜¯ç”¨äºåˆ›å»ºå…¶ä»–å¯¹è±¡çš„å¯¹è±¡â€”â€”æ­£å¼æ„ä¹‰ä¸Šï¼Œå·¥å‚æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–æ–¹æ³•ï¼Œå®ƒä»æŸç§æ–¹æ³•è°ƒç”¨(å‡å®šæ˜¯â€œæ–°â€çš„)ä¸­è¿”å›ä¸åŒåŸå‹æˆ–ç±»çš„å¯¹è±¡ã€‚

**ä»£ç ç¤ºä¾‹**ï¼š

é¦–å…ˆæˆ‘ä»¬å¾—æœ‰ä¸ªé—¨çš„æ¥å£ï¼Œç„¶åå®ç°å®ƒã€‚

```ts
interface Door {
  getWidth: () => number;
  getHeight: () => number;
}

class WoodenDoor implements Door {
  protected width;
  protected height;

  constructer(width: number, height: number) {
    this.width = width;
    this.height = height;
  }

  public getWidth(): number {
    return this.width;
  }

  public getHeight(): number {
    return this.height;
  }
}
```

ç„¶åæˆ‘ä»¬æœ‰è‡ªå·±çš„é—¨å·¥å‚ï¼Œåˆ¶é€ é—¨å’Œé€€è´§ã€‚

```ts
class DoorFactory {
  public static makeDoor(width, height): Door {
    return new WoodenDoor(width, height);
  }
}
```

å®ƒå¯ä»¥è¿™æ ·è°ƒç”¨:

```ts
// å®šåˆ¶ä¸€ä¸ªå®½é«˜ä¸º 100x200 çš„é—¨
const door = DoorFactory.makeDoor(100, 200);
console.log('Width: ', door.getWidth());
console.log('Height: ', door.getHeight());

// å®šåˆ¶ä¸€ä¸ªå®½é«˜ä¸º 50x100 çš„é—¨
const door2 = DoorFactory.makeDoor(50, 100);
```

**ä½•æ—¶ä½¿ç”¨**ï¼Ÿ

å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡ä¸ä»…ä»…æ˜¯ä¸€äº›èµ‹å€¼å¹¶ä¸”æ¶‰åŠåˆ°ä¸€äº›é€»è¾‘æ—¶ï¼Œå°†å®ƒæ”¾åœ¨ä¸€ä¸ªä¸“ç”¨çš„å·¥å‚ä¸­è€Œä¸æ˜¯åˆ°å¤„é‡å¤ç›¸åŒçš„ä»£ç ï¼Œè¿™æ˜¯éå¸¸æœ‰æ„ä¹‰çš„ã€‚

### ğŸ­ å·¥å‚æ¨¡å¼

ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š

> ä»¥æ‹›è˜ç»ç†ä¸ºä¾‹ã€‚ä¸€ä¸ªäººå»é¢è¯•æ¯ä¸ªèŒä½æ˜¯ä¸å¯èƒ½çš„ã€‚æ ¹æ®èŒä½ç©ºç¼ºï¼Œå¥¹å¿…é¡»å†³å®šå¹¶å°†é¢è¯•æ­¥éª¤åˆ†é…ç»™ä¸åŒçš„äºº

ç®€å•æ¥è¯´ï¼š

> å®ƒæä¾›äº†ä¸€ç§å°†å®ä¾‹åŒ–é€»è¾‘å§”æ‰˜ç»™å­ç±»çš„æ–¹æ³•ã€‚

ç»´åŸºç™¾ç§‘ä¸­ï¼š

> åœ¨åŸºäºç±»çš„ç¼–ç¨‹ä¸­ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºæ¨¡å¼ï¼Œå®ƒä½¿ç”¨å·¥å‚æ–¹æ³•æ¥å¤„ç†åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ï¼Œè€Œä¸å¿…æŒ‡å®šè¦åˆ›å»ºçš„å¯¹è±¡çš„ç¡®åˆ‡ç±»ã€‚è¿™æ˜¯é€šè¿‡è°ƒç”¨å·¥å‚æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡è€Œä¸æ˜¯é€šè¿‡è°ƒç”¨æ„é€ å‡½æ•°æ¥å®ç°çš„â€”â€”æˆ–è€…åœ¨æ¥å£ä¸­æŒ‡å®šå¹¶ç”±å­ç±»å®ç°ï¼Œæˆ–è€…åœ¨åŸºç±»ä¸­å®ç°å¹¶ç”±æ´¾ç”Ÿç±»å¯é€‰åœ°è¦†ç›–ã€‚

**ä»£ç ç¤ºä¾‹**ï¼š

ä»¥æˆ‘ä»¬çš„æ‹›è˜ç»ç†ä¸ºä¾‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé¢è¯•å®˜ç•Œé¢å’Œä¸€äº›å®ç°ï¼š

```ts
interface Interviewer {
  askQuestions: () => void
}

class Developer implements Interviewer {
  public askQuestions(): void {
    console.log('Asking about design patterns!');
  }
}

class CommunityExecutive implements Interviewer {
  public askQuestions(): void {
    console.log('Asking about community building');
  }
}
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª `HiringManager`ã€‚

```ts
abstract class HiringManager {
  // å·¥å‚æ–¹æ³•
  abstract protected makeInterviewer: () => Interviewer;

  public takeInterview(): void {
    const interviewer = this.makeInterviewer();
    interviewer.askQuestions();
  }
}
```

ç°åœ¨ï¼Œä»»ä½•ä¸€ä¸ªåä»£éƒ½å¯ä»¥æ‰©å±•å®ƒï¼Œæä¾›æ‰€éœ€çš„é¢è¯•å®˜ï¼š

```ts
class DevelopmentManager extends HiringManager {
  protected makeInterviewer(): Interviewer {
    return new Developer();
  }
}

class MarketingManager extends HiringManager {
  protected makeInterviewer(): Interviewer {
    return new CommunityExecutive();
  }
}
```

ç„¶åæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š

```ts
const devManager = new DevelopmentManager();
devManager.takeInterview(); // è¾“å‡º: Asking about design patterns

const marketingManager = new MarketingManager();
marketingManager.takeInterview(); // è¾“å‡º: Asking about community building.
```

**ä½•æ—¶ä½¿ç”¨ï¼Ÿ**

å½“ç±»ä¸­æœ‰ä¸€äº›æ³›å‹å¤„ç†ï¼Œä½†æ‰€éœ€çš„å­ç±»æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€ç¡®å®šçš„æ—¶å€™ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚æˆ–è€…æ¢å¥è¯è¯´ï¼Œå½“ä½¿ç”¨è€…ç«¯ä¸çŸ¥é“å®ƒå¯èƒ½éœ€è¦ä»€ä¹ˆç¡®åˆ‡çš„å­ç±»æ—¶ã€‚

### ğŸ”¨ æŠ½è±¡å·¥å‚

ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼š

> ä»ç®€å•çš„å·¥å‚æ‰©å±•åˆ°æˆ‘ä»¬çš„é—¨æˆ·æ ·æ¿ã€‚æ ¹æ®ä½ çš„éœ€è¦ï¼Œä½ å¯ä»¥ä»ä¸€å®¶æœ¨é—¨åº—ä¹°ä¸€æ‰‡æœ¨é—¨ï¼Œä»ä¸€å®¶é“é—¨åº—ä¹°ä¸€æ‰‡é“é—¨ï¼Œæˆ–è€…ä»ç›¸å…³çš„å•†åº—ä¹°ä¸€æ‰‡ PVC é—¨ã€‚å¦å¤–ï¼Œä½ å¯èƒ½éœ€è¦ä¸€ä¸ªæœ‰ä¸åŒä¸“ä¸šçš„äººæ¥è£…é—¨ï¼Œæ¯”å¦‚æœ¨é—¨çš„æœ¨åŒ ï¼Œé“é—¨çš„ç„Šå·¥ç­‰ç­‰ã€‚æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œç°åœ¨é—¨ä¹‹é—´æœ‰ä¸€ç§ä¾èµ–æ€§ï¼Œæœ¨é—¨éœ€è¦æœ¨åŒ ï¼Œé“é—¨éœ€è¦ç„Šå·¥ç­‰ç­‰ã€‚

ç®€å•æ¥è¯´ï¼š

> æŠ½è±¡å·¥å‚å°±æ˜¯å·¥å‚ä¸­çš„å·¥å‚;å°†ç‹¬ç«‹ä½†ç›¸å…³/ä¾èµ–çš„å·¥å‚ç»„åˆåœ¨ä¸€èµ·ï¼Œè€Œä¸æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»çš„å·¥å‚ã€‚

ç»´åŸºç™¾ç§‘ï¼š

> æŠ½è±¡å·¥å‚æ¨¡å¼æä¾›äº†ä¸€ç§æ–¹æ³•æ¥å°è£…ä¸€ç»„æ‹¥æœ‰å…±åŒä¸»é¢˜çš„ç‹¬ç«‹å·¥å‚ï¼Œè€Œæ— éœ€æŒ‡å®šå®ƒä»¬çš„å…·ä½“ç±»



## Reference

[design-patterns-for-humans](https://roadmap.sh/guides/design-patterns-for-humans)
